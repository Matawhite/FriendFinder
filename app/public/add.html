<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Find a Cuddle Buddy</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body>
    <div class="container">
      <div class="well">
        <form role="form">
          <div class="form-group">
            <label for="breed">Breed Type:</label>
            <input type="test" class="form-control" id="breed">
          </div>
          <div class="form-group">
            <label for="img">Image URL: </label>
            <input type="tesxt" class="form-control" id="img">
          </div>
          <label for="sel1">Rate the calmness of the breed of the dog.</label>
          <br>
          <select class="form-control" id="sel1">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <br>
          <label for="sel2">Rate the ease of the care for the dog breed.</label>
          <br>
          <select class="form-control" id="sel2">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <br>
          <label for="sel3">Rate the breed's drooliness (it's a word).</label>
          <br>
          <select class="form-control" id="sel3">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <br>
          <label for="sel4">Rate the breed's energy level.</label>
          <br>
          <select class="form-control" id="sel4">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <br>
          <label for="sel5">Rate the breed's adult size.</label>
          <br>
          <select class="form-control" id="sel5">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <br>
          <button id="add-submit" type="submit" type="button" class="btn btn-primary">Submit</button>
          </form>
      </div>
    </div> <!-- end main container -->
  </body>
  <script type="text/javascript">
  $('#add-submit').on('click', function(){
    var newDog = {
      breed: $('#breed').val(),
      img: $('#img').val(),
      score: [parseInt($('#sel1').val()),parseInt($('#sel2').val()),parseInt($('#sel3').val()),parseInt($('#sel4').val()),parseInt($('#sel5').val())]
    }
    //I have to append the object because at time of object creation, javascript
    //doesn't seem to know about this.score when inside the object...weird
    newDog.total = newDog.score.reduce((a, b) => a + b, 0);

    $.post( "/api/newDog", newDog).done(function(data) {
			}, function(err){
				console.log(err);
			});
    return false
  })

  </script>
</html>
